![KashidasuLogo](./images/KashidasuLogo.png)
# 技術者向け仕様書（マニュアル）

## 開発ツール
- docker: 開発環境の差異をなくすために使用する。
## アプリの起動方法
Kashidasuのプロジェクトディレクトリで  
初回起動時: ``docker compose up -d --build`` サーバーを構築する
``docker compose up -d``でサーバーを立ち上げる  
``docker compose down ``でサーバーを落とす

## 使用しているライブラリ
- Quagga.js: バーコードを読み取るライブラリ
- nodemon: ホットリロード 
- express: バックエンド関係のライブラリ 
- express-session: セッション管理とか 
- pdf-lib: PDFファイル作成ライブラリ
- js-barcode: バーコードを生成するライブラリ
- ejs: 拡張HTML
- crypto: 暗号化, ハッシュ化などのセキュリティ関係
- mysql2: mysqlデータベースに接続・クエリ実行するためのライブラリ
- dotenv: .envファイルの環境変数を読み込むためのライブラリ
- それ以外: 前提および付属ライブラリ

## ディレクトリ構成
```
.
├── ca/
│   └── 自己署名の証明書を生成するためのディレクトリ
├── certs/
│   └── 鍵が入っている。基本的にいじらない（初期状態では存在しない）
├── config/
│   └── コンフィグ設定が書かれたファイル。基本的にいじらない
├── db  /
│   └── データベースを定義するためのファイルが格納されたディレクトリ
├── docs/
│   └── ドキュメント類が格納されている
├── Inserter/
│   └── データベースにテストデータなどを格納する際に使う。入れない
├── logs/
│   └── Kashidasuで実行された処理の履歴が格納されている（初期状態では存在しない）
├── mysql_data/
│   └── Mysqlのデータを格納するディレクトリ
├── mode_modules/
│   └── ライブラリ格納ディレクトリ。あまり気にするものではない（初期状態では存在しない）
└── src/
    ├── generater/
    │   └── これはユーザーカードの発行する処理を入れるディレクトリ。それだけ
    ├── model/
    │   └── 対データベースとの処理のスクリプトを格納しているディレクトリ。
    ├── public/
    │   ├── 静的ファイルを格納している
    │   ├── fonts/
    │   │   └── Kashidasuで使用するフォントファイルを格納している
    │   ├── images/
    │   │   └── 画像を格納している
    │   ├── js/
    │   │   └── jsファイルが格納されているディレクトリ。対バックエンドへの処理を記述している
    │   ├── pdf/
    │   │   └── pdfファイルを格納するディレクトリ。生成したKashidasuカードはここに格納（初期状態では存在しない）
    │   └── styles/
    │       └── cssファイルが格納されたディレクトリ
    ├── router/
    │   └── ルーティング処理を書いたスクリプトが格納されたディレクトリ
    └── views/
        └── ejsファイルが格納されたディレクトリ。実質htmlが格納されている
```